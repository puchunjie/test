webpackJsonp([9],{229:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=o(24),d=o(188);n["default"]={name:"tree",vuex:{actions:{showdemandtypeinfo:t.showdemandtypeinfo,snydemantypes:t.snydemantypes,showDemandModifyForm:t.showDemandModifyForm,setdemandactivestate:t.setdemandactivestate},state:{getDemandActiveState:d.getDemandActiveState}},props:{model:Object,doafter:String},data:function(){return{open:!1}},computed:{isFirstUl:function(){return"base"==this.model.name||this.open},isFolder:function(){return this.model.children&&this.model.children.length}},methods:{toggle:function(e){this.setdemandactivestate(e.id),this.isFolder&&(this.open=!this.open),this.showdemandtypeinfo(e),this.showDemandModifyForm(),console.log(e)},addChild:function(e){}}}},248:function(e,n,o){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var d=o(147),a=t(d),i=o(410),r=t(i),l=o(188),A=o(24);n["default"]={vuex:{actions:{removedemandtypeinfo:A.removedemandtypeinfo,showdemandtypeinfo:A.showdemandtypeinfo,addsubdemantypes:A.addsubdemantypes,addtopdemantypes:A.addtopdemantypes,showDemandAddForm:A.showDemandAddForm,showDemandModifyForm:A.showDemandModifyForm},state:{getDemandTypes:l.getDemandTypes,getDemandTypeInfo:l.getDemandTypeInfo,getDemandIsAdd:l.getDemandIsAdd}},ready:function(){setTimeout(function(){var e=(0,a["default"])(window).height(),n=(0,a["default"])(".action-bar").height();(0,a["default"])(".write-bg").width();(0,a["default"])(".tree-show").height(e-n-135)},201)},components:{tree:r["default"]},data:function(){return{isTopLevel:!0,fromData:{id:"",name:"",fullName:"",pid:"",isWorkOrder:"",describe:"",children:[]}}},methods:{addSubDemandType:function(){void 0!==this.getDemandTypeInfo.id?((0,a["default"])("#demand_add").find("input").val(""),(0,a["default"])("#demand_add").find("textarea").val(""),this.isTopLevel=!1,this.showDemandAddForm()):alert("你需要选择一个上级")},addTopDemandType:function(){(0,a["default"])("#demand_add").find("input").val(""),(0,a["default"])("#demand_add").find("textarea").val(""),this.isTopLevel=!0,this.showDemandAddForm()},saveAction:function(){this.getDemandIsAdd&&(this.isTopLevel?this.addtopdemantypes(this.fromData):this.addsubdemantypes(this.fromData),this.fromData={id:"",name:"",fullName:"",pid:"",isWorkOrder:"",describe:"",children:[]})}}}},299:function(e,n,o){n=e.exports=o(2)(),n.push([e.id,'.item{cursor:pointer;text-indent:20px;line-height:34px}.item>div:hover{background-color:#f0f4f5}.bold{font-weight:700}.tree-model ul{position:relative}.tree-model ul:before{border:none;border-color:#0099cb;-o-border-image:none;border-image:none;border-style:dotted;border-width:0 0 0 1px;display:block;position:absolute;bottom:0;content:"";top:0;z-index:1}.tree-model ul li:before{border-top:1px dotted #0099cb;content:"";display:inline-block;position:absolute;width:17px;margin:5% 0 0}.tree-model li>ul{margin-left:30px}.item-box.active{background-color:#f0f4f5;color:#17afe1}.item-box.active a{color:#17afe1}',"",{version:3,sources:["/./src/components/tree/_tree.vue.style"],names:[],mappings:"AAsEA,MACA,eAAA,AACA,iBAAA,AACA,gBAAA,CACA,AACA,gBACA,wBAAA,CACA,AAEA,MACA,eAAA,CACA,AACA,eACA,iBAAA,CACA,AAEA,sBAEA,YAAA,AAGA,qBAAA,AACA,qBAAA,kBAAA,AACA,oBAAA,AACA,uBAAA,AACA,cAAA,AACA,kBAAA,AACA,SAAA,AACA,WAAA,AACA,MAAA,AACA,SAAA,CACA,AACA,yBACA,8BAAA,AACA,WAAA,AACA,qBAAA,AACA,kBAAA,AACA,WAAA,AACA,aAAA,CACA,AAEA,kBACA,gBAAA,CACA,AACA,iBACA,yBAAA,AACA,aAAA,CACA,AACA,mBACA,aAAA,CACA",file:"_tree.vue",sourcesContent:['<template>\n    <li>\n        <div class="item-box" :class="{\'bold\': isFolder,\'active\':getDemandActiveState == model.id}"\n             @click="toggle(model)">\n            <a v-if="model.name!==\'base\'">{{model.name}}</a>\n            <span v-show="model.name!==\'base\'" v-if="isFolder">{{open ? \'-\' : \'+\'}}</span>\n        </div>\n        <ul v-show="isFirstUl" v-if="isFolder">\n            <tree class="item" v-for="model in model.children" :model="model"></tree>\n            <!--<li @click="snydemantypes(model)"><div>+</div></li>-->\n        </ul>\n    </li>\n</template>\n\n\n<script type="text/ecmascript-6">\n    import { showdemandtypeinfo,snydemantypes,showDemandModifyForm,setdemandactivestate } from \'../../vuex/actions\'\n    import { getDemandActiveState } from \'../../vuex/getters\'\n\n    export default{\n        name:"tree",\n        vuex:{\n            actions:{\n                showdemandtypeinfo,\n                snydemantypes,\n                showDemandModifyForm,\n                setdemandactivestate\n            },\n            state:{\n                getDemandActiveState\n            }\n        },\n        props: {\n            model: Object,\n            doafter:String\n        },\n        data: function () {\n            return {\n                open: false\n            }\n        },\n        computed: {\n            isFirstUl: function () {\n                return this.model.name == \'base\'|| this.open\n            },\n            isFolder: function () {\n                return this.model.children &&\n                        this.model.children.length\n            }\n        },\n        methods: {\n            toggle: function (model) {\n                this.setdemandactivestate(model.id)\n                if (this.isFolder) {\n                    this.open = !this.open\n                }\n                this.showdemandtypeinfo(model)\n                this.showDemandModifyForm()\n                console.log(model)\n            },\n            addChild: function (model) {\n//                model.children.push({\n//                    name: \'new stuff\'\n//                })\n            }\n        }\n    }\n</script>\n\n<style>\n    .item {\n        cursor: pointer;\n        text-indent: 20px;\n        line-height: 34px;\n    }\n    .item>div:hover {\n        background-color: #f0f4f5;\n    }\n\n    .bold {\n        font-weight: bold;\n    }\n    .tree-model ul{\n        position: relative;\n    }\n\n    .tree-model ul:before{\n        -moz-border-bottom-colors: none;\n        -moz-border-left-colors: none;\n        -moz-border-right-colors: none;\n        -moz-border-top-colors: none;\n        border-color: #0099cb;\n        border-image: none;\n        border-style: dotted;\n        border-width: 0 0 0 1px;\n        display: block;\n        position: absolute;\n        bottom: 0;\n        content: "";\n        top: 0;\n        z-index: 1;\n    }\n    .tree-model ul li:before{\n        border-top: 1px dotted #0099cb;\n        content: "";\n        display: inline-block;\n        position: absolute;\n        width: 17px;\n        margin: 5% 0 0;\n    }\n\n    .tree-model li>ul{\n        margin-left: 30px;\n    }\n    .item-box.active{\n        background-color: #f0f4f5;\n        color:#17afe1;\n    }\n    .item-box.active a{\n        color:#17afe1;\n    }\n</style>'],sourceRoot:"webpack://"}])},328:function(e,n,o){n=e.exports=o(2)(),n.push([e.id,".tree-content{width:360px;height:100%;background-color:#fff;overflow:hidden;position:absolute;left:0;top:0}.action-bar{width:100%;height:48px;line-height:48px;border-bottom:1px solid #e9f0f2;padding:7px 20px}.action-bar.controls button{margin-left:10px}.tree-show{width:100%;padding:30px 0;overflow-y:scroll}.tree-model{padding-right:30px}.demandtype-info{position:relative;margin-left:370px;min-width:590px;height:100%;background-color:#fff;transition:all .3s;-webkit-transition:all .3s}.form-show{width:100%;padding:20px 0 20px 40px}.form-show .form-show-group>input,.form-show textarea{display:inline-block;width:450px;height:34px;line-height:34px;border:1px solid #e6e6e6;border-radius:3px;text-indent:10px;background-color:#f0f4f5}.form-show textarea{margin-top:5px;height:160px;resize:none}.form-show input:focus,.form-show input:hover,.form-show textarea:focus,.form-show textarea:hover{background-color:#fff;border-color:#f0f4f5}.form-show .form-show-group{width:100%;height:44px;line-height:44px}.form-show-group>label{display:inline-block;height:100%;line-height:44px;width:94px;vertical-align:top}.checkbox-wrap{display:inline-block}.checkbox-wrap li{float:left;margin-right:40px}.checkbox-wrap input{top:3px;margin-right:10px}.checkbox-wrap label{cursor:pointer}","",{version:3,sources:["/./src/views/service/settingDemand.vue.style"],names:[],mappings:"AA8LA,cACA,YAAA,AACA,YAAA,AACA,sBAAA,AACA,gBAAA,AACA,kBAAA,AACA,OAAA,AACA,KAAA,CACA,AAEA,YACA,WAAA,AACA,YAAA,AACA,iBAAA,AACA,gCAAA,AACA,gBAAA,CACA,AAEA,4BACA,gBAAA,CACA,AAEA,WACA,WAAA,AACA,eAAA,AACA,iBAAA,CACA,AAEA,YACA,kBAAA,CACA,AAEA,iBACA,kBAAA,AACA,kBAAA,AACA,gBAAA,AACA,YAAA,AACA,sBAAA,AACA,mBAAA,AACA,0BAAA,CACA,AAEA,WACA,WAAA,AACA,wBAAA,CACA,AAEA,sDACA,qBAAA,AACA,YAAA,AACA,YAAA,AACA,iBAAA,AACA,yBAAA,AACA,kBAAA,AACA,iBAAA,AACA,wBAAA,CACA,AAEA,oBACA,eAAA,AACA,aAAA,AACA,WAAA,CACA,AAEA,kGACA,sBAAA,AACA,oBAAA,CACA,AAEA,4BACA,WAAA,AACA,YAAA,AACA,gBAAA,CACA,AAEA,uBACA,qBAAA,AACA,YAAA,AACA,iBAAA,AACA,WAAA,AACA,kBAAA,CACA,AAEA,eACA,oBAAA,CACA,AAEA,kBACA,WAAA,AACA,iBAAA,CACA,AAEA,qBACA,QAAA,AACA,iBAAA,CACA,AAEA,qBACA,cAAA,CACA",file:"settingDemand.vue",sourcesContent:['<template>\n    <div class="panel-top-bar" v-if="false">\n        <button class="os-btn os-btn-empty-lightBlue fl" @click="toogleScreen">{{ screenBtn }}</button>\n        <button class="os-btn os-btn-full-lightYellow fr">清空条件</button>\n    </div>\n    <div class="write-bg no-write">\n        <div class="tree-content">\n            <div class="action-bar">\n                <button class="os-btn os-btn-full-darkBlue fl" @click="addTopDemandType">添加顶级</button>\n                <button class="os-btn os-btn-full-darkBlue fr" @click="addSubDemandType">添加子级</button>\n            </div>\n            <div class="tree-show">\n                <ul class="tree-model">\n                    <tree class="item" :model="getDemandTypes"></tree>\n                </ul>\n            </div>\n        </div>\n        <div class="demandtype-info">\n            <div class="action-bar controls">\n                <button class="os-btn os-btn-full-darkBlue fr" @click="saveAction">保存</button>\n                <button class="os-btn os-btn-full-lightYellow fr">删除</button>\n            </div>\n            <div class="form-show">\n                <form id="demand_modify" v-show="!getDemandIsAdd">\n                    <div class="form-show-group">\n                        <label>需求类型:</label>\n                        <input type="text" v-model="getDemandTypeInfo.name" v-text="{{ getDemandTypeInfo.name }}">\n                    </div>\n                    <div class="form-show-group">\n                        <label>全称:</label>\n                        <input type="text" v-model="getDemandTypeInfo.fullName"\n                               v-text="{{ getDemandTypeInfo.fullName }}">\n                    </div>\n                    <div class="form-show-group">\n                        <label>排序:</label>\n                        <input type="text" v-model="getDemandTypeInfo.pid" v-text="getDemandTypeInfo.pid">\n                    </div>\n                    <div class="form-show-group">\n                        <label>工单处理:</label>\n                        <ul class="checkbox-wrap">\n                            <li>\n                                <input id="wordorder_yes" v-model="getDemandTypeInfo.isWordOrder" value="yes"\n                                       type="radio" name="wordorder">\n                                <label for="wordorder_yes">是</label>\n                            </li>\n                            <li>\n                                <input id="wordorder_no" v-model="getDemandTypeInfo.isWordOrder" value="no" type="radio"\n                                       name="wordorder">\n                                <label for="wordorder_no">否</label>\n                            </li>\n                        </ul>\n                    </div>\n                    <div class="form-show-group">\n                        <label>需求描述:</label>\n                        <textarea v-model="getDemandTypeInfo.describe"\n                                  v-text="getDemandTypeInfo.describe?getDemandTypeInfo.describe:\'\'"></textarea>\n                    </div>\n                </form>\n                <form id="demand_add" v-show="getDemandIsAdd">\n                    <div class="form-show-group">\n                        <label>需求类型:</label>\n                        <input type="text" v-model="fromData.name" v-text="{{ fromData.name }}">\n                    </div>\n                    <div class="form-show-group">\n                        <label>全称:</label>\n                        <input type="text" v-model="fromData.fullName" v-text="{{ fromData.fullName }}">\n                    </div>\n                    <div class="form-show-group">\n                        <label>排序:</label>\n                        <input type="text" v-model="fromData.pid" v-text="{{ fromData.pid }}">\n                    </div>\n                    <div class="form-show-group">\n                        <label>工单处理:</label>\n                        <ul class="checkbox-wrap">\n                            <li>\n                                <input id="order_yes" v-model="fromData.isWorkOrder" value="yes" type="radio"\n                                       name="wordorder">\n                                <label for="order_yes">是</label>\n                            </li>\n                            <li>\n                                <input id="order_no" v-model="fromData.isWorkOrder" value="no" type="radio"\n                                       name="wordorder">\n                                <label for="order_no">否</label>\n                            </li>\n                        </ul>\n                    </div>\n                    <div class="form-show-group">\n                        <label>需求描述:</label>\n                        <textarea v-model="fromData.describe" v-text="fromData.describe?fromData.describe:\'\'"></textarea>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import $ from \'jquery\'\n    import tree from \'../../components/tree/_tree.vue\'\n    import { getDemandTypes,getDemandTypeInfo,getDemandIsAdd } from \'../../vuex/getters\'\n    import { removedemandtypeinfo,showdemandtypeinfo,addsubdemantypes,addtopdemantypes,showDemandAddForm,showDemandModifyForm } from \'../../vuex/actions\'\n\n    export default{\n        vuex: {\n            actions: {\n                removedemandtypeinfo,\n                showdemandtypeinfo,\n                addsubdemantypes,\n                addtopdemantypes,\n                showDemandAddForm,\n                showDemandModifyForm\n            },\n            state: {\n                //同步标需求类型\n                getDemandTypes,\n                getDemandTypeInfo,\n                getDemandIsAdd\n            }\n        },\n        ready: function () {\n            setTimeout(function () {\n                let winHei = $(window).height();\n                let acBarHei = $(".action-bar").height()\n                let bgWid = $(".write-bg").width()\n                $(".tree-show").height(winHei - acBarHei - 135);\n            }, 201);\n\n        },\n        components: {\n            tree\n        },\n        data(){\n            return {\n                //是否添加顶级\n                isTopLevel: true,\n                //添加类型数据对象\n                fromData: {\n                    id: \'\',\n                    name: \'\',\n                    fullName: \'\',\n                    pid: \'\',\n                    isWorkOrder: \'\',\n                    describe: \'\',\n                    children: []\n                }\n            }\n        },\n        methods: {\n            addSubDemandType: function () {\n                if (this.getDemandTypeInfo.id !== undefined) {\n                    $(\'#demand_add\').find(\'input\').val(\'\')\n                    $(\'#demand_add\').find(\'textarea\').val(\'\')\n                    this.isTopLevel = false\n                    this.showDemandAddForm()\n                } else {\n                    alert("你需要选择一个上级")\n                }\n            },\n            addTopDemandType: function () {\n                $(\'#demand_add\').find(\'input\').val(\'\')\n                $(\'#demand_add\').find(\'textarea\').val(\'\')\n                this.isTopLevel = true\n                this.showDemandAddForm()\n            },\n            saveAction: function () {\n                //如果是添加表单保存\n                if (this.getDemandIsAdd) {\n//                    let addData = this.fromData\n                    this.isTopLevel\n                            ? this.addtopdemantypes(this.fromData)\n                            : this.addsubdemantypes(this.fromData)\n                    this.fromData = {\n                        id: \'\',\n                        name: \'\',\n                        fullName: \'\',\n                        pid: \'\',\n                        isWorkOrder: \'\',\n                        describe: \'\',\n                        children: []\n                    }\n                } else {\n\n                }\n            }\n        }\n    }\n\n</script>\n\n<style>\n    .tree-content {\n        width: 360px;\n        height: 100%;\n        background-color: #fff;\n        overflow: hidden;\n        position: absolute;\n        left: 0;\n        top: 0;\n    }\n\n    .action-bar {\n        width: 100%;\n        height: 48px;\n        line-height: 48px;\n        border-bottom: 1px solid #e9f0f2;\n        padding: 7px 20px;\n    }\n\n    .action-bar.controls button {\n        margin-left: 10px;\n    }\n\n    .tree-show {\n        width: 100%;\n        padding: 30px 0;\n        overflow-y: scroll;\n    }\n\n    .tree-model {\n        padding-right: 30px;\n    }\n\n    .demandtype-info {\n        position: relative;\n        margin-left: 370px;\n        min-width: 590px;\n        height: 100%;\n        background-color: #fff;\n        transition: all 0.3s;\n        -webkit-transition: all 0.3s;\n    }\n\n    .form-show {\n        width: 100%;\n        padding: 20px 0 20px 40px;\n    }\n\n    .form-show .form-show-group > input, .form-show textarea {\n        display: inline-block;\n        width: 450px;\n        height: 34px;\n        line-height: 34px;\n        border: 1px solid #e6e6e6;\n        border-radius: 3px;\n        text-indent: 10px;\n        background-color: #f0f4f5;\n    }\n\n    .form-show textarea {\n        margin-top: 5px;\n        height: 160px;\n        resize: none;\n    }\n\n    .form-show input:hover, .form-show textarea:hover, .form-show input:focus, .form-show textarea:focus {\n        background-color: #fff;\n        border-color: #f0f4f5;\n    }\n\n    .form-show .form-show-group {\n        width: 100%;\n        height: 44px;\n        line-height: 44px;\n    }\n\n    .form-show-group > label {\n        display: inline-block;\n        height: 100%;\n        line-height: 44px;\n        width: 94px;\n        vertical-align: top\n    }\n\n    .checkbox-wrap {\n        display: inline-block;\n    }\n\n    .checkbox-wrap li {\n        float: left;\n        margin-right: 40px;\n    }\n\n    .checkbox-wrap input {\n        top: 3px;\n        margin-right: 10px;\n    }\n\n    .checkbox-wrap label {\n        cursor: pointer;\n    }\n</style>\n'],sourceRoot:"webpack://"}])},335:function(e,n,o){var t=o(299);"string"==typeof t&&(t=[[e.id,t,""]]);o(3)(t,{});t.locals&&(e.exports=t.locals)},364:function(e,n,o){var t=o(328);"string"==typeof t&&(t=[[e.id,t,""]]);o(3)(t,{});t.locals&&(e.exports=t.locals)},375:function(e,n){e.exports="<li> <div class=item-box :class=\"{'bold': isFolder,'active':getDemandActiveState == model.id}\" @click=toggle(model)> <a v-if=\"model.name!=='base'\">{{model.name}}</a> <span v-show=\"model.name!=='base'\" v-if=isFolder>{{open ? '-' : '+'}}</span> </div> <ul v-show=isFirstUl v-if=isFolder> <tree class=item v-for=\"model in model.children\" :model=model></tree> </ul> </li>"},394:function(e,n){e.exports='<div class=panel-top-bar v-if=false> <button class="os-btn os-btn-empty-lightBlue fl" @click=toogleScreen>{{ screenBtn }}</button> <button class="os-btn os-btn-full-lightYellow fr">清空条件</button> </div> <div class="write-bg no-write"> <div class=tree-content> <div class=action-bar> <button class="os-btn os-btn-full-darkBlue fl" @click=addTopDemandType>添加顶级</button> <button class="os-btn os-btn-full-darkBlue fr" @click=addSubDemandType>添加子级</button> </div> <div class=tree-show> <ul class=tree-model> <tree class=item :model=getDemandTypes></tree> </ul> </div> </div> <div class=demandtype-info> <div class="action-bar controls"> <button class="os-btn os-btn-full-darkBlue fr" @click=saveAction>保存</button> <button class="os-btn os-btn-full-lightYellow fr">删除</button> </div> <div class=form-show> <form id=demand_modify v-show=!getDemandIsAdd> <div class=form-show-group> <label>需求类型:</label> <input type=text v-model=getDemandTypeInfo.name v-text="{{ getDemandTypeInfo.name }}"> </div> <div class=form-show-group> <label>全称:</label> <input type=text v-model=getDemandTypeInfo.fullName v-text="{{ getDemandTypeInfo.fullName }}"> </div> <div class=form-show-group> <label>排序:</label> <input type=text v-model=getDemandTypeInfo.pid v-text=getDemandTypeInfo.pid> </div> <div class=form-show-group> <label>工单处理:</label> <ul class=checkbox-wrap> <li> <input id=wordorder_yes v-model=getDemandTypeInfo.isWordOrder value=yes type=radio name=wordorder> <label for=wordorder_yes>是</label> </li> <li> <input id=wordorder_no v-model=getDemandTypeInfo.isWordOrder value=no type=radio name=wordorder> <label for=wordorder_no>否</label> </li> </ul> </div> <div class=form-show-group> <label>需求描述:</label> <textarea v-model=getDemandTypeInfo.describe v-text="getDemandTypeInfo.describe?getDemandTypeInfo.describe:\'\'"></textarea> </div> </form> <form id=demand_add v-show=getDemandIsAdd> <div class=form-show-group> <label>需求类型:</label> <input type=text v-model=fromData.name v-text="{{ fromData.name }}"> </div> <div class=form-show-group> <label>全称:</label> <input type=text v-model=fromData.fullName v-text="{{ fromData.fullName }}"> </div> <div class=form-show-group> <label>排序:</label> <input type=text v-model=fromData.pid v-text="{{ fromData.pid }}"> </div> <div class=form-show-group> <label>工单处理:</label> <ul class=checkbox-wrap> <li> <input id=order_yes v-model=fromData.isWorkOrder value=yes type=radio name=wordorder> <label for=order_yes>是</label> </li> <li> <input id=order_no v-model=fromData.isWorkOrder value=no type=radio name=wordorder> <label for=order_no>否</label> </li> </ul> </div> <div class=form-show-group> <label>需求描述:</label> <textarea v-model=fromData.describe v-text="fromData.describe?fromData.describe:\'\'"></textarea> </div> </form> </div> </div> </div>'},410:function(e,n,o){var t,d;o(335),t=o(229),d=o(375),e.exports=t||{},e.exports.__esModule&&(e.exports=e.exports["default"]),d&&(("function"==typeof e.exports?e.exports.options:e.exports).template=d)},428:function(e,n,o){var t,d;o(364),t=o(248),d=o(394),e.exports=t||{},e.exports.__esModule&&(e.exports=e.exports["default"]),d&&(("function"==typeof e.exports?e.exports.options:e.exports).template=d)}});